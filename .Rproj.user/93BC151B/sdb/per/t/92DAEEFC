{
    "contents" : "---\ntitle: \"RR Skills (4): Dynamic Reporting \"\nauthor: Andrey Koval\ndate: December 2 , 2014\noutput: \n  ioslides_presentation:\n    widescreen: true\n    transition: faster\n  includes:\n    in_header: include/in_header.html\n---\n\n<!--  Set the working directory to the repository's base directory; this assumes the report is nested inside of only one directory.-->\n```{r, echo=F, message=F} \nlibrary(knitr)\nopts_knit$set(root.dir='../')  #Don't combine this call with any other chunk -especially one that uses file paths.\n```\n\n<!-- Set the report-wide options, and point to the external script file. -->\n```{r, echo=F, message=T}\nrequire(knitr)\nopts_chunk$set(\n  results='show', \n  message = TRUE,\n  comment = NA, \n  tidy = FALSE,\n#   fig.height = 4.8, \n#   fig.width = 6.5, \n  out.width = NULL,\n  fig.path = 'figure_rmd/',     \n  dev = \"png\",\n  dpi = 70\n)\nechoChunks <- FALSE\nwarningChunks<- FALSE\nmessageChunks<- FALSE\noutwidthChunks <- \"90%\"\noptions(width=120) #So the output is 50% wider than the default.\nread_chunk(\"./Reports/2014-12-02-Dynamic-Reporting.R\") # the file to which knitr calls for the chunks\n```\n\n## Information\n\nYou can forward your questions to   \nAnn Greenwood (ann.greenwood at popdata.bc.ca) or Vincenza Gruppuso (vincenza at uvic.ca).  \nQ&A will begin immediately after the presentation.   \n\nYou can follow the presentation and review previous lectures at [ialsa.github.io/COAG-colloquium-2014F/](http://ialsa.github.io/COAG-colloquium-2014F/)\n\n\n## Overview of the Series\n\n- Oct 14  -- Intro to Reproducible Research  \n- Oct 21  -- RR Basic Skills (1): Data Manipulation\n- Nov  4  -- RR Basic Skills (2): Graph Production  \n- Nov 18  -- RR Basic Skills (3): Statistical Modeling     \n- Dec 2  -- **RR Basic Skills (4): Dynamic Reporting**     \n\n<div class=\"notes\">\n</div>\n\n## Previously:\n\n<img src = 'images/ai/DataMap_full.png' width=\"100%\"></img> \n```p\n\"./Scripts/Data/dsL.R\"\n```\n\ndownload the files to work along at [GitHub](https://github.com/IALSA/COAG-colloquium-2014F)\n\n<div class=\"notes\">\nLast time we talked about the flow of data in a research project. The data flow map shows one possible scenario of data development, relevant to the data at hand. Stage <code>dsW</code>,  <code>dsLong</code>, might be optional, or narrate different transformations. The purpose of such a map is to organize our understanding of the script underlying this map. Thus, when results of the study are reported this map can be used to ease the deconstruction of the script and its further adaptation.\n</div>\n\n\n\n## Load Data {.smaller}\n```{r LoadPackages, echo=F, warning=F, message=F, results='hide'}\n```\n\n```{r LoadData, echo=T, warning=F, message=F, results='hide'}\n```\n```{r}\nstr(dsL)\n```\n\n<div class=\"notes\">\nfirst we load the data set that we have annotated in the previous lectures\n</div>\n\n\n```{r loadTheme, out.width=\"95%\", warning=F, echo=F}\n```\n\n\n\n## Focal outcome {.smaller}\n<div class=\"columns-2\">\n```{r dsM00}\n```\n</br> </br>\nHow often did you **attend** a worhsip service during the last year?\n```{r, echo=F}\nattendLevels<- c(1:8)\nattendLabels<-c( \"Never\",\n                 \"Once or Twice\",\n                 \"Less than once/month\",\n                 \"About once/month\",\n                 \"About twice/month\",\n                 \"About once/week\",\n                 \"Several times/week\",\n                 \"Everyday\")\nattendMetrics <- data.frame(attendLevels, attendLabels)\ndplyr::arrange(attendMetrics,-attendLevels)\n```\n</div>\n</br> </br>\n\n\n\n## Which model is \"better\"? {.smaller} \n<div class=\"columns-2\">\n \n - what criteria used?\n  - not used?\n  - preferences in fit/parsimony\n  - complex judgments\n\n### Challenges:\n  1. Collecting results \n    - _What pieces of information do we need?_    \n  2. Organizing comparisons      \n    - _How do we  overcome information overload?_  \n\n</br> </br> </br> </br> </br> </br> </br> </br> </br> </br> \n\nModel A: ${y_{it}} = {\\beta _0} + {\\varepsilon _{it}}$    \n\n```{r, dsM20, echo=F,  results='hide', message=F, warning=F}\n```\n\n```{r graph20, out.width=\"60%\", warning=F, echo=F}\n```\n\nModel B: ${y_{it}} = {\\beta _0} + {\\beta _1}tim{e_t} + {\\varepsilon _{it}}$   \n\n```{r, dsM21, echo=F,  results='hide', message=F, warning=F}\n```\n\n```{r graph21, out.width=\"60%\", warning=F, echo=F}\n```\n\n</div>\n\n\n## Collecting results: post-processing{.smaller}\n<div class=\"columns-2\">\n```{r dsM22a, echo=F,  results='hide', message=F, warning=F}\n```\n\n```{r modelApost, echo=F,  results='hide', message=F, warning=F}\n```\n\n```{r modelApostPrint}\n```\n</br> </br> </br> </br> </br>   </br> </br> </br> </br> </br> \n```{r}\nmodelA\n```\n\n ${y_{it}} = {\\beta _0} + {\\varepsilon _{it}}$ \n\n```{r, dsM20, echo=F,  results='hide', message=F, warning=F}\n```\n\n```{r graph20, out.width=\"45%\", warning=F, echo=F}\n```\n</div>\n<div class=\"notes\">\n```{r}\nsummary(modelA)\n```\n</div>\n\n\n\n## Collecting results: post-processing{.smaller}\n<div class=\"columns-2\">\n```{r dsM22b, echo=F,  results='hide', message=F, warning=F}\n```\n\n\n```{r modelBpost, echo=F,  results='hide', message=F, warning=F}\n```\n\n\n```{r modelBpostPrint}\n```\n</br> </br> </br> </br> </br>   </br> </br> </br> </br> </br> \n```{r}\nmodelB\n```\n\n ${y_{it}} = {\\beta _0} + {\\beta _1}tim{e_t} + {\\varepsilon _{it}}$ \n\n```{r, dsM21, echo=F,  results='hide', message=F, warning=F}\n```\n\n```{r graph21, out.width=\"45%\", warning=F, echo=F}\n```\n</div>\n<div class=\"notes\">\n```{r}\nsummary(modelB)\n```\n</div>\n\n\n\n\n\n\n\n\n\n## Model manifestations {.smaller}\n<img src = 'images/cc_Nov18/mm7.png' width=\"100%\"></img> \n\n</br>\n\n## Model manifestations {.smaller}\n<img src = 'images/cc_Nov18/mm7.png' width=\"100%\"></img> \n\n## Today\n\n<div class=\"red\">**STRATEGIC GOAL** </div> \n- Evaluate a series of models\n\n<div class=\"red\">**TACTICAL GOAL**</div>  \n - Design a dynamic document for model sequencing \n\n<div class=\"red\">**TECHNICAL ASSIGNMENT**</div>\n 1. choose/specify what models should constitute the sequence  \n 2. estimate each model  \n 3. extract and organize solutions  \n 4. choose/create model manifestations (MM)  \n 5. combine MMs into a report on each model  \n 6. combine model reports into sequence report  \n 7. customize navigation through the sequence  \n\n## Scripts involved\n\n**model-SPECIFY.R** - contains model specifications of models as gls/lmer syntax.  \n</br>\n**model-ESTIMATE.R** - contains the loop that cycles through all available model specifications. Includes the following operations: </br>     \n1. Derives the dataset to be used  \n2. Estimates models:     \n  - lme4::lmer - *if a model contains     random effects*  \n  - nlme::gls - *if a model contains only fixed effects*    \n3. Post-process model solution and save datasets:  \n  - <code>dsmInfo.rds</code> - *model fit and information indices*   \n  - <code>dsFERE.rds</code>  - *fixed (FE) and random effects (RE) descriptors*    \n  - <code>dsp.rds</code> - *predicted values from the model*     \n</br>\n**model-COLLECT-SOLUTIONS.R** - combines datasets containing model solutions  \n\n\n## Scripts involved\n\n**graph-FERE.R** - creates a tile graph of model solution   \n</br>\n**graph-PREDICT.R** - creates a line graph of predicted trajectories   \n</br>\n**graph-FIT** - creates a  bar graph of model performance indices\n</br>\n\n<div class=\"red\">**sequence.R(md)**</div>   \n- produces sequence reports  \n\n\n\n## Combining model manifestations\n<img src = './images/ModelManifestationLayout.png' width=\"30%\"></img> \n\n\nToday we'll take a look at a [sequence of unconditional models](http://htmlpreview.github.io/?https://github.com/IALSA/COAG-colloquium-2014F/blob/LCM-sequence/Reports/LCMsequence/sequence.html).  \n\nAnother [example of a sequence](http://statcanvas.net/thesis/appendix/sequences/01seqWhitesFullTj.html)\n\n\n## Question? Comments?\n\nYou can forward questions to Ann Greenwood (ann.greenwood@popdata.bc.ca)  or Vincenza Gruppuso (vincenza@uvic.ca) during the live Q&A. They are standing by to take your questions.   \n \n \n [NLSWeb]:https://www.nlsinfo.org/investigator/pages/login.jsp\n[NLS]:http://www.bls.gov/nls/\n\n\n\n",
    "created" : 1421101045853.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1023041886",
    "id" : "92DAEEFC",
    "lastKnownWriteTime" : 1420564371,
    "path" : "~/GitHub/COAG-colloquium-2014F/Reports/2014-11-28-Dynamic-Reporting-Demo.Rmd",
    "project_path" : "Reports/2014-11-28-Dynamic-Reporting-Demo.Rmd",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_markdown"
}