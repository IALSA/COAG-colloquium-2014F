{
    "contents" : "# Clear memory from previous runs\nbase::rm(list=base::ls(all=TRUE))\n\n\n## @knitr LoadPackages\n# Load the necessary packages.\nbase::require(base)\nbase::require(knitr)\nbase::require(markdown)\nbase::require(testit)\nbase::require(dplyr)\nbase::require(reshape2)\nbase::require(stringr)\nbase::require(stats)\nbase::require(ggplot2)\n\n## @knitr DeclareGlobals\n\n\n## @knitr LoadData\n# loads basic NLSY97-religiosity data as defined in COAG-Colloquium-2014F repository\nsource(\"./Scripts/Data/dsL.R\")\n\n\n\n## @knitr loadTheme\nbaseSize <- 12\n### <b>\nplotTheme <- ggplot2::theme_bw() +\n  ### </b>\n  ggplot2::theme_bw(base_size=baseSize)+\n  ggplot2::theme(title=ggplot2::element_text(colour=\"gray20\",size = baseSize + 3)) +\n  ggplot2::theme(axis.text=ggplot2::element_text(colour=\"gray40\", size= baseSize - 2))+\n  ggplot2::theme(axis.title.x=ggplot2::element_text(colour=\"gray40\", size = baseSize + 2, vjust=-.3))+\n  ggplot2::theme(axis.title.y=ggplot2::element_text(colour=\"gray40\", size = baseSize + 2, vjust=1.3))+\n  ggplot2::theme(panel.border = ggplot2::element_rect(colour=\"gray80\"))+\n  ggplot2::theme(axis.ticks.length = grid::unit(0, \"cm\"))\n\n## @knitr dsM01\ndsM <- dplyr::filter(dsL, id == 1) %>% \n  dplyr::select(id, year, attend, attendF)\ndsM\n\n## @knitr dsM02\ndsM <- dplyr::filter(dsL, id %in% c(1,23)) %>% \n  dplyr::select(id, year, attend, attendF)\ndsM\n\n\n## @knitr graph01\np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\n### <b>\np <- p + geom_point()\n### </b>\n\np\n\n\n## @knitr graph02\np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\n### <b>\np <- p + geom_line()\n\n### </b>\np\n\n## @knitr graph03\np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\n### <b>\np <- p + geom_line()\np <- p + geom_point()\n### </b>\np\n\n## @knitr graph04\np <- ggplot2::ggplot(dsM,aes(x=year))\n### <b>\np <- p + geom_line(aes(y=attend))\np <- p + geom_point(aes(y=attend))\n### </b>\np\n\n\n## @knitr graph04a\np <- ggplot2::ggplot(dsM,aes(x=year))\n### <b>\np <- p + geom_line(aes(y=attend))\np <- p + geom_point(aes(y=attend))\n### </b>\n\np\n\n## @knitr graph05\np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np <- p + geom_line()\np <- p + geom_point()\n### <b>\np <- p + plotTheme\n### </b>\np\n\n\n## @knitr graph05a\np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np <- p + geom_line()\np <- p + geom_point()\np <- p + plotTheme\n\np\n\n\n## @knitr graph06\np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np <- p + geom_line()\np <- p + geom_point()\np <- p + plotTheme\n### <b>\np <- p + scale_x_continuous(limits=c(1995,2015))\n### </b>\np\n\n\n## @knitr graph06a\np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np <- p + geom_line()\np <- p + geom_point()\np <- p + plotTheme\np <- p + scale_x_continuous(limits=c(1995,2015))\n\np\n\n\n\n## @knitr graph07\np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np <- p + geom_line()\np <- p + geom_point()\np <- p + plotTheme\n### <b>\np <- p + scale_x_continuous(limits=c(2000,2011),\n                            breaks=c(2000:2011))\n### </b>\np\n\n\n## @knitr graph08\np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np <- p + geom_line()\np <- p + geom_point()\np <- p + plotTheme\n### <b>\np <- p + scale_x_continuous(limits=c(2000,2011),\n                            breaks=c(2000,2005,2010))\n### </b>\np\n\n## @knitr graph09\np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np <- p + geom_line()\np <- p + geom_point()\np <- p + plotTheme\np <- p + scale_x_continuous(limits=c(2000,2011),\n                            breaks=c(2000:2011))\n### <b>\np <- p + scale_y_continuous(limits=c(1,8),\n                            breaks=seq(1,8, by=1))\n### </b>\np\n\n\n## @knitr graph09a\np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np <- p + geom_line()\np <- p + geom_point()\np <- p + plotTheme\np <- p + scale_x_continuous(limits=c(2000,2011),\n                            breaks=c(2000:2011))\n### <b>\np <- p + scale_y_continuous(limits=c(1,8),\n                            breaks=seq(2,8, by=2))\n### </b>\np\n\n\n## @knitr graph10\np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np <- p + geom_line()\np <- p + geom_point()\np <- p + plotTheme\np <- p + scale_x_continuous(limits=c(2000,2011),\n                            breaks=c(2000:2011),\n                            ### <b>\n                            \"Year of observation\")\n### </b>\np <- p + scale_y_continuous(limits=c(1,8),\n                            breaks=seq(1,8, by=1),\n                            ### <b>\n                            \"Church attendance\")\n### </b>\np\n\n\n\n## @knitr graph11\np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np <- p + geom_line()\np <- p + geom_point()\np <- p + plotTheme\np <- p + scale_x_continuous(limits=c(2000,2011),\n                            breaks=c(2000:2011),\n                            \"Year of observation\")\np <- p + scale_y_continuous(limits=c(1,8),\n                            breaks=seq(1,8, by=1),\n                            \"Church attendance\")\n### <b>\np <- p + ggtitle(\n  \"How frequently did you attend worship last year?\")\n### </b>\np\n\n\n## @knitr graph11a\np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np <- p + geom_line() + geom_point() + plotTheme\np <- p + scale_x_continuous(limits=c(2000,2011),breaks=c(2000:2011))\np <- p + scale_y_continuous(limits=c(1,8), breaks=seq(1,8, by=1))\np <- p + labs(list(title=\"How frequently did you attend worship last year?\",\n               x=\"Year of observation\", y=\"Church attendance\"))\np\n\n\n\n## @knitr graph12\n### <b>\ndsM <- dplyr::filter(dsL, id %in% c(1,23)) %>% \n  dplyr::select(id, year, attend, attendF)\n#\n### </b>\np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np <- p + geom_line()\np <- p + geom_point()\np <- p + plotTheme\np <- p + scale_x_continuous(limits=c(2000,2011),\n                            breaks=c(2000:2011))\np <- p + scale_y_continuous(limits=c(1,8), \n                            breaks=seq(1,8, by=1))\np <- p + labs(list(\n title=\"How often did you attend worship last year?\",\n x=\"Year of observation\", y=\"Church attendance\"))\np\n\n\n## @knitr graph13\ndsM <- dplyr::filter(dsL, id %in% c(1,23)) %>% \n  dplyr::select(id, year, attend, attendF)\n#\np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\n### <b>\np <- p + geom_line(aes(group=id))\n### </b>\np <- p + geom_point()\np <- p + plotTheme\np <- p + scale_x_continuous(limits=c(2000,2011),\n                            breaks=c(2000:2011))\np <- p + scale_y_continuous(limits=c(1,8), \n                            breaks=seq(1,8, by=1))\np <- p + labs(list(\n title=\"How often did you attend worship last year?\",\n x=\"Year of observation\", y=\"Church attendance\"))\np\n\n\n## @knitr graph14\n### <b>\ndsM <- dplyr::filter(dsL, id <=300) %>% \n  dplyr::select(id, year, attend, attendF)\n### </b>\n#  \np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np <- p + geom_line(aes(group=id))\np <- p + geom_point()\np <- p + plotTheme\np <- p + scale_x_continuous(limits=c(2000,2011),\n                            breaks=c(2000:2011))\np <- p + scale_y_continuous(limits=c(1,8), \n                            breaks=seq(1,8, by=1))\np <- p + labs(list(\n title=\"How often did you attend worship last year?\",\n x=\"Year of observation\", y=\"Church attendance\"))\np\n\n\n## @knitr graph15\ndsM <- dplyr::filter(dsL, id <=300) %>% \n  dplyr::select(id, year, attend, attendF)\n#  \np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\n### <b>\np <- p + geom_line(aes(group=id), \n           position=position_jitter(w=0.3,h=0.3))\n### </b>\np <- p + geom_point()\np <- p + plotTheme\np <- p + scale_x_continuous(limits=c(2000,2011),\n                            breaks=c(2000:2011))\np <- p + scale_y_continuous(limits=c(0,8), \n                            breaks=seq(1,8, by=1))\np <- p + labs(list(\n title=\"How often did you attend worship last year?\",\n x=\"Year of observation\", y=\"Church attendance\"))\np\n\n\n## @knitr graph16\ndsM <- dplyr::filter(dsL, id <=300) %>% \n  dplyr::select(id, year, attend, attendF)\n#  \np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np <- p + geom_line(aes(group=id), \n           position=position_jitter(w=0.3, h=0.3))\n### <b>\np <- p + geom_point(\n           position=position_jitter(w=0.3, h=0.3))\n### </b>\np <- p + plotTheme\np <- p + scale_x_continuous(limits=c(2000,2011),\n                            breaks=c(2000:2011))\np <- p + scale_y_continuous(limits=c(0,8), \n                            breaks=seq(1,8, by=1))\np <- p + labs(list(\n title=\"How often did you attend worship last year?\",\n x=\"Year of observation\", y=\"Church attendance\"))\np\n\n## @knitr graph17\ndsM <- dplyr::filter(dsL, id <=300) %>% \n  dplyr::select(id, year, attend, attendF)\np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\n#  \n### <b>\np <- p + geom_line(aes(group=id), color='firebrick',\n           position=position_jitter(w=0.3, h=0.3))\n### </b>\np <- p + geom_point(\n           position=position_jitter(w=0.3, h=0.3))\np <- p + plotTheme\np <- p + scale_x_continuous(limits=c(2000,2011),\n                            breaks=c(2000:2011))\np <- p + scale_y_continuous(limits=c(0,8), \n                            breaks=seq(1,8, by=1))\np <- p + labs(list(\n title=\"How often did you attend worship last year?\",\n x=\"Year of observation\", y=\"Church attendance\"))\np\n\n\n## @knitr graph18\ndsM <- dplyr::filter(dsL, id <=300) %>% \n  dplyr::select(id, year, attend, attendF)\n#  \np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np <- p + geom_line(aes(group=id), color='firebrick',\n           position=position_jitter(w=0.3, h=0.3))\n### <b>\np <- p + geom_point(shape=21, color=NA, fill=\"blue4\",\n### </b>\n           position=position_jitter(w=0.3, h=0.3))\np <- p + plotTheme\np <- p + scale_x_continuous(limits=c(2000,2011),\n                            breaks=c(2000:2011))\np <- p + scale_y_continuous(limits=c(0,8), \n                            breaks=seq(1,8, by=1))\np <- p + labs(list(\n title=\"How often did you attend worship last year?\",\n x=\"Year of observation\", y=\"Church attendance\"))\np\n\n## @knitr graph19\ndsM <- dplyr::filter(dsL, id <=300) %>% \n  dplyr::select(id, year, attend, attendF)\n#  \np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np <- p + geom_line(aes(group=id), color='firebrick',\n### <b>\n           alpha=.3,\n### </b>\n           position=position_jitter(w=0.3, h=0.3))\np <- p + geom_point(shape=21, color=NA, fill=\"blue4\",\n### <b>                    \n           alpha=.3, \n### </b>\n           position=position_jitter(w=0.3, h=0.3))\np <- p + plotTheme\np <- p + scale_x_continuous(limits=c(2000,2011),\n                            breaks=c(2000:2011))\np <- p + scale_y_continuous(limits=c(0,8), \n                            breaks=seq(1,8, by=1))\np <- p + labs(list(\n title=\"How often did you attend worship last year?\",\n x=\"Year of observation\", y=\"Church attendance\"))\np\n\n## @knitr graph20\ndsM <- dplyr::filter(dsL, id <=300) %>% \n  dplyr::select(id, year, attend, attendF)\n#  \np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np <- p + geom_line(aes(group=id), color='firebrick',\n                   ### <b>\n           alpha=.1,\n                   ### </b>\n           position=position_jitter(w=0.3, h=0.3))\np <- p + geom_point(shape=21, color=NA, fill=\"blue4\",\n                    ### <b>                    \n           alpha=.2, size=2.2, \n                    ### </b>\n           position=position_jitter(w=0.3, h=0.3))\np <- p + plotTheme\np <- p + scale_x_continuous(limits=c(2000,2011),\n                            breaks=c(2000:2011))\np <- p + scale_y_continuous(limits=c(0,8), \n                            breaks=seq(1,8, by=1))\np <- p + labs(list(\n title=\"How often did you attend worship last year?\",\n x=\"Year of observation\", y=\"Church attendance\"))\np\n\n\n## @knitr graph21\ndsM <- dplyr::filter(dsL, id <=300) %>% \n  dplyr::select(id, year, attend, attendF)\n#  \np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np <- p + geom_line(aes(group=id), color='firebrick',\n                   ### <b>\n           alpha=.1,\n                   ### </b>\n           position=position_jitter(w=0.3, h=0.3))\np <- p + geom_point(shape=21, color=NA, fill=\"blue4\",\n                    ### <b>                    \n           alpha=.5, size=.8, \n                    ### </b>\n           position=position_jitter(w=0.3, h=0.3))\np <- p + plotTheme\np <- p + scale_x_continuous(limits=c(2000,2011),\n                            breaks=c(2000:2011))\np <- p + scale_y_continuous(limits=c(0,8), \n                            breaks=seq(1,8, by=1))\np <- p + labs(list(\n title=\"How often did you attend worship last year?\",\n x=\"Year of observation\", y=\"Church attendance\"))\np\n\n\n## @knitr graph22\ndsM <- dplyr::filter(dsL, id <=300) %>% \n  dplyr::select(id,sexF,raceF,year,attend,attendF)\n#  \n#\n#\np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np <- p + geom_line(aes(group=id), color='firebrick',\n                   ### <b>\n           alpha=.1,\n                   ### </b>\n           position=position_jitter(w=0.3, h=0.3))\np <- p + geom_point(shape=21, color=NA, fill=\"blue4\",\n                    ### <b>                    \n           alpha=.3, size=1.2, \n                    ### </b>\n           position=position_jitter(w=0.3, h=0.3))\np <- p + plotTheme\np <- p + scale_x_continuous(limits=c(2000,2011),\n                            breaks=c(2000:2011))\np <- p + scale_y_continuous(limits=c(0,8), \n                            breaks=seq(1,8, by=1))\np <- p + labs(list(\n title=\"How often did you attend worship last year?\",\n x=\"Year of observation\", y=\"Church attendance\"))\np <- p + facet_grid(sexF~raceF)\np\n\n## @knitr graph23\ndsM <- dplyr::filter(dsL, id <=300, \n                     raceF != \"Mixed (Non-H)\") %>% \n  dplyr::select(id,sexF,raceF,year,attend,attendF)\n#\n#  \np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np <- p + geom_line(aes(group=id), color='firebrick',\n                   ### <b>\n           alpha=.1,\n                   ### </b>\n           position=position_jitter(w=0.3, h=0.3))\np <- p + geom_point(shape=21, color=NA,fill=\"blue4\",\n                    ### <b>                    \n           alpha=.5, size=.8, \n                    ### </b>\n           position=position_jitter(w=0.3, h=0.3))\np <- p + plotTheme\np <- p + scale_x_continuous(limits=c(2000,2011),\n                            breaks=c(2000:2011))\np <- p + scale_y_continuous(limits=c(0,8), \n                            breaks=seq(1,8, by=1))\np <- p + labs(list(\n title=\"How often did you attend worship last year?\",\n x=\"Year of observation\", y=\"Church attendance\"))\np <- p + facet_grid(sexF~raceF)\np\n\n## @knitr graph24\ndsM <- dplyr::filter(dsL, id <=300, \n                     raceF != \"Mixed (Non-H)\") %>% \n  dplyr::select(id,sexF,raceF,year,attend,attendF) %>%\n### <b>\n  dplyr::mutate(yearc = year - 2000) # see aes(x=)\n### </b>\n#\np <- ggplot2::ggplot(dsM,aes(x=yearc,y=attend))\np <- p + geom_line(aes(group=id), color='firebrick',\n           alpha=.1,\n           position=position_jitter(w=0.3, h=0.3))\np <- p + geom_point(shape=21, color=NA, fill=\"blue4\",\n           alpha=.5, size=.8, \n           position=position_jitter(w=0.3, h=0.3))\np <- p + plotTheme\np <- p + scale_x_continuous(limits=c(0,11),\n                            breaks=c(0:11))\np <- p + scale_y_continuous(limits=c(0,8), \n                            breaks=seq(1,8, by=1))\np <- p + labs(list(\n title=\"How often did you attend worship last year?\",\n x=\"Years since 2000\", y=\"Church attendance\"))\np <- p + facet_grid(sexF~raceF)\np\n\n\n\n## @knitr graph25\ndsM <- dplyr::filter(dsL, id <=300, \n                     raceF != \"Mixed (Non-H)\") %>% \n  dplyr::select(id,sexF,raceF,year,attend,attendF) %>%\n  dplyr::mutate(yearc = year - 2000)\n#  \np <- ggplot2::ggplot(dsM,aes(x=yearc,y=attend))\np <- p + geom_line(aes(group=id), color='firebrick',\n                   ### <b>\n           alpha=.2,\n                   ### </b>\n           position=position_jitter(w=0.3, h=0.3))\np <- p + geom_point(shape=21, color=NA, fill=\"blue4\",\n                    ### <b>                    \n           alpha=.4, size=1, \n                    ### </b>\n           position=position_jitter(w=0.3, h=0.3))\np <- p + plotTheme\np <- p + scale_x_continuous(limits=c(0,11),\n                            breaks=c(0:11))\np <- p + scale_y_continuous(limits=c(0,8), \n                            breaks=seq(1,8, by=1))\np <- p + labs(list(\n title=\"How often did you attend worship last year?\",\n x=\"Years since 2000\", y=\"Church attendance\"))\np <- p + facet_grid(sexF~raceF)\np\n\n\n\n\n## @knitr graphFinal\n# dsM <- dplyr::filter(dsL,row_number() <= 1000, race != 3 ) %>%\n#   mutate(yearc=year-2000)\n# p <- ggplot2::ggplot(dsM,aes(x=yearc,y=attend,group=id))\n# # geoms\n# p <- p + geom_line(alpha=.2, linetype=\"solid\", size=.2, color=\"firebrick\", \n#                    position = position_jitter(w = 0.3, h = 0.3))\n# p <- p + geom_point(alpha=.2, shape=21, color=NA, fill=\"blue4\", size=1.5,\n#                    position = position_jitter(w = 0.2, h = 0.2))\n# # scales\n# p <- p + scale_y_continuous(\"Church attendance\",\n#                          limits=c(0, 8),\n#                          breaks=c(1:8))\n# p <- p + scale_x_continuous(\"Years since 2000\",\n#                          limits=c(0,11),\n#                          breaks=c(0:11))\n# p <- p + facet_grid(sexF~raceF)\n# # annotations, themes\n# p <- p + labs(title=paste0(\"In the past year, how often have you attended a worship service?\"))\n# # p <- p + ylab(\"Church Attendance\")\n# p <- p + plotTheme\n# p\n\n",
    "created" : 1415902506279.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1235257312",
    "id" : "BA049BEB",
    "lastKnownWriteTime" : 1415905167,
    "path" : "~/GitHub/COAG-colloquium-2014F/Reports/2014-11-04-Producing-Graphs.R",
    "project_path" : "Reports/2014-11-04-Producing-Graphs.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}