{
    "contents" : "---\ntitle: \"RR Skills (2): Graph Production \"\nauthor: Andrey Koval\ndate: November 4, 2014\noutput: \n  ioslides_presentation:\n    widescreen: true\n    transition: faster\n---\n\n<!--  Set the working directory to the repository's base directory; this assumes the report is nested inside of only one directory.-->\n```{r, echo=F, message=F} \nlibrary(knitr)\nopts_knit$set(root.dir='../')  #Don't combine this call with any other chunk -especially one that uses file paths.\n```\n\n<!-- Set the report-wide options, and point to the external script file. -->\n```{r, echo=F, message=T}\nrequire(knitr)\nopts_chunk$set(\n  results='show', \n  message = TRUE,\n  comment = NA, \n  tidy = FALSE,\n#   fig.height = 4.8, \n#   fig.width = 6.5, \n  out.width = NULL,\n  fig.path = 'figure_rmd_try/',     \n  dev = \"png\",\n  dpi = 400\n)\nechoChunks <- FALSE\nwarningChunks<- FALSE\nmessageChunks<- FALSE\noutwidthChunks <- \"90%\"\noptions(width=120) #So the output is 50% wider than the default.\nread_chunk(\"./Reports/2014-10-31-Producing-Graphs-Demo.R\") # the file to which knitr calls for the chunks\n```\n\n\n## Overview of the Series\n\n- Oct 14  -- Intro to Reproducible Research  \n- Oct 21  -- RR Basic Skills (1): Data Manipulation\n- Oct 28  -- Intro to Latent Class and Latent Transition Models  \n- Nov 4  -- **RR Basic Skills (2): Graph Production**  \n- Nov 11      \n- Nov 18  -- RR Basic Skills (3): Statistical Modeling   \n- Nov 25  -- RR Basic Skills (4): Dynamic Reporting   \n- Dec 2 -- Migrating into R from other Statistical Software   \n\n\n## Previously:\n  \n<img src = 'images/ai/DataMap_today.png' width=\"100%\"></img>  \n\n### Tidy data\n\n1. Each variable forms a column\n2. Each observation forms a row\n3. Each type of observational unit forms a table\n\nSee [Hadley Wickham's](http://had.co.nz/) paper on [tidy data](http://www.jstatsoft.org/v59/i10/paper)\n\n  \n\n## Previously:\n\n<img src = 'images/ai/DataMap_full.png' width=\"100%\"></img> \n```\n\"./Scripts/Data/dsL.R\"\n```\n\ndownload the files to work along at [GitHub](https://github.com/IALSA/COAG-colloquium-2014F)\n\n## Previously:\n\n### NLSY97\n  - [National Longitudinal Study of Youth 1997][NLS]\n  - Household sample\n  - ~ 9,000 respondents\n  - 5 cohorts\n  - ages from 13 to 31\n  - started in 1997 \n  - continues today\n  -  outcome: <div class=\"red2\">Church attendance</div>\n\n\n\n\n\n[NLSWeb]:https://www.nlsinfo.org/investigator/pages/login.jsp\n[NLS]:http://www.bls.gov/nls/\n\n\n\n\n## Previously:\n\n```\n\"./Scripts/Data/dsL.R\"\n```\nimported the raw data files\n```\nmyExtract <- \"./Data/Extract/NLSY97_Attend_20141021/NLSY97_Attend_20141021\"\npathSourceData <- paste0(myExtract,\".csv\") \nSourceData <- read.csv(pathSourceData,header=TRUE, skip=0,sep=\",\")\nds0 <- SourceData\n```\ncleaned, transformed , and at the end, exported it. \n```\npathdsLrds <- \"./Data/Derived/dsL.rds\"\nsaveRDS(object=dsL, file=pathdsLrds, compress=\"xz\")\n```\nwe pick up right were we left off, by executing the script <code>./Scripts/Data/dsL.R</code>  \n\n## Load Data\n```{r LoadData, echo=T, warning=F, message=F, results='hide'}\n```\n\n## Load Data\n```{r}\ndplyr::filter(dsL, id==1)\n```\n\n## Load Data\n```{r}\ndplyr::filter(dsL, id==1) %>% select(id, year, attend, attendF)\n```\n\n## The anatomy of a ggplot\n![sape](http://sape.inf.usi.ch/sites/default/files/imagecache/width600/ggplot2-anatomy-all-annotated.png)\n\nsee [ggplot quick reference](http://sape.inf.usi.ch/quick-reference/ggplot2) by SAPE research group\n\n## Preview\n```{r graphFinalpreview, echo=F, warning=F, message=F, out.width=\"90%\"}\n```\n\n\n## Canvas\n```{r, eval=FALSE}\ndsM <- dsL\np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np\n```\n\n```\nError: No layers in plot\n```\n\n\n## Geom: point\n```{r graph01, echo=T, warning=F, message=F, out.width=\"60%\"}\n```\n\n## Geom: line\n```{r graph02, echo=T, warning=F, message=F,out.width=\"60%\"}\n```\n\n\n## Geom: line + point\n```{r graph03, echo=T, warning=F, message=F, out.width=\"60%\"}\n```\n\n\n## Define theme\n```{r loadTheme, echo=T, warning=F, message=F, out.width=\"60%\"}\n```\n\n## Add theme\n```{r graph04, echo=T, warning=F, message=F, out.width=\"60%\"}\n```\n\n## Scales: X-Axis\n```\ndsM <- dplyr::filter(dsL, id==1)\np <- ggplot2::ggplot(dsM,aes(x=year,y=attend))\np <- p + geom_line()\np <- p + geom_point()\np <- p + scale_x_continuous(\"Year\", limits=c(2000,2011), breaks=2000:2011)\np <- p + plotTheme\np\n```\n## Scales: X-Axis\n```{r graph05, echo=F, warning=F, message=F, out.width=\"90%\"}\n```\n\n## Scales: y-Axis\n```{r graph06, echo=F, warning=F, message=F, out.width=\"90%\"}\n```\n\n\n## Add title\n```{r graph07, echo=F, warning=F, message=F, out.width=\"90%\"}\n```\n\n## Multiple Lines\n```{r graph08, echo=F, warning=F, message=F, out.width=\"90%\"}\n```\n\n## Multiple Lines with grouping\n```{r graph09, echo=F, warning=F, message=F, out.width=\"90%\"}\n```\n\n## Edit geoms\n```{r graph10, echo=F, warning=F, message=F, out.width=\"90%\"}\n```\n\n\n## Facet\n```{r graph11, echo=F, warning=F, message=F, out.width=\"90%\"}\n```\n\n\n\n----\n```{r graphFinal, echo=F, warning=F, message=F, out.width=\"90%\"}\n```\n\n\n\n[colors in R](http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf)\n\n",
    "created" : 1415074962550.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3033803093",
    "id" : "80F4FD94",
    "lastKnownWriteTime" : 1415057023,
    "path" : "~/GitHub/COAG-colloquium-2014F/Reports/2014-10-31-Producing-Graphs-Demo.Rmd",
    "project_path" : "Reports/2014-10-31-Producing-Graphs-Demo.Rmd",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_markdown"
}