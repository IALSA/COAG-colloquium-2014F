---
title: "Custom Fit"
output:
  html_document:
    css: ~/GitHub/COAG-Colloquium-2014F/Reports/LCMsequence/libs/sidebar.css
    fig.retina: 2
    fig_width: 8
    keep_md: no
    toc: yes
  md_document:
    toc: yes
    toc_depth: 3
  pdf_document:
    fig_crop: no
    fig_width: 8
    highlight: haddock
    latex_engine: xelatex
    number_sections: yes
    toc: yes
    toc_depth: 3
  word_document:
    fig_width: 6.5
mainfont: Calibri
---

<!--  Set the working directory to the repository's base directory; this assumes the report is nested inside of only one directory.-->
```{r, echo=F, message=F} 
require(knitr)
opts_knit$set(root.dir='../../')  #Don't combine this call with any other chunk -especially one that uses file paths.

```

```{r set_options, echo=F, message=F}
require(knitr)
# getwd()
opts_chunk$set(
  results='show', 
  message = TRUE,
  comment = NA, 
  tidy = FALSE,
  fig.height = 7, 
  fig.width = 10, 
#   out.width = NULL,
  fig.path = 'fit/',     
  warning = FALSE,
  dev = "png"
  , dpi = 70
)
echoChunks <- FALSE
warningChunks<- FALSE
messageChunks<- FALSE
options(width=120) #So the output is 50% wider than the default.
read_chunk("./Reports/LCMsequence/sequence-FIT.R") # the file to which knitr calls for the chunks
```

```{r LoadPackages, echo=echoChunks, message=F}
```

```{r LoadSources, echo=echoChunks, message=F}
```

```{r DeclareGlobals, echo=echoChunks, message=FALSE}
```

```{r LoadData, echo=echoChunks, message=T}
# select only respondence in the cross-sectional sample
```

```{r loadRDS, echo=echoChunks}
```


# All models 

```{r allModels, echo=echoChunks, results="hide", warning=warningChunks, message=messageChunks}
```

There are total of 29 distinct models, which can be organized into 4 groups:  

+ models with fixed effects only  (F):  9
+ models with      1 random term  (R1): 9
+ models with      2 random terms (R2): 7
+ models with      3 random temrs (R3): 4

The following layout helps understand how each of the models was constructed. The columns count the number of terms  on the first level, the rows shows what predictors are added to the second level. Replace the stars in the name of the model with **F** for models with only the fixed effects  and **R1**, **R2**, and **R3**  for models with the corresponding number of random terms in the second level. 



<img src = 'models/formulas/grid_map.png' width="50%"></img> 

# Models w/ fixed only
<img src = 'models/formulas/grid_F.png' width="100%"></img> 

## F by row
```{r F_row, echo=echoChunks, results="hide", warning=warningChunks, message=messageChunks}
```

## F by column
```{r F_col, echo=echoChunks, results="hide" , warning=warningChunks, message=messageChunks}
```

# Models with 1 random term
<img src = 'models/formulas/grid_R1.png' width="100%"></img> 

## R1 by row
```{r R1_row, echo=echoChunks, results="hide" , warning=warningChunks, message=messageChunks}
```

## R1 by column
```{r R1_col, echo=echoChunks, results="hide" , warning=warningChunks, message=messageChunks}
```

# Models with 2 random terms
<img src = 'models/formulas/grid_R2.png' width="100%"></img> 

## R2 by row
```{r R2_row, echo=echoChunks, results="hide" , warning=warningChunks, message=messageChunks}
```

## R2 by column
```{r R2_col, echo=echoChunks, results="hide" , warning=warningChunks, message=messageChunks}
```

# Models with 3 random terms
<img src = 'models/formulas/grid_R3.png' width="100%"></img> 

## R3 by row
```{r R3_row, echo=echoChunks, results="hide" , warning=warningChunks, message=messageChunks}
```

## R3 b3 column
```{r R3_col, echo=echoChunks, results="hide" , warning=warningChunks, message=messageChunks}
```

# General form
<img src = 'models/formulas/spec_wide.png' width="100%"></img> 
<img src = 'models/formulas/Notation.png' width="100%"></img> 
